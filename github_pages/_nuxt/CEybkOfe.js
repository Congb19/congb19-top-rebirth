import{C as w,B as d,y as C,K as b,g as x,L as N,c as u,o as n,b as B,w as c,i as T,H as s,p as R,d as p,n as V,a as D,h,t as f,F,k as L}from"./DhsM50se.js";import{_ as M}from"./CiHQzAJ4.js";const U=g=>{const o=w(),a=d("ready"),i=d();let t=d([0,0]);const m=C(()=>t.value[1]>t.value[0]?t.value[1]-t.value[0]:0),l=()=>{const v=Math.random()*5;a.value="waiting",i.value=setTimeout(()=>{a.value="testing",t.value[0]=Number(Date.now())},3e3+v*1e3)},r=async()=>{a.value==="ready"||a.value==="waiting"?(e(),o.add({title:"抢跑了！",timeout:2e3})):a.value==="testing"&&(t.value[1]=Number(Date.now()),await b(),g(Number(m.value)),e())},e=()=>{clearTimeout(i.value),a.value="ready",t.value[0]=0,t.value[1]=0};return{status:a,start:l,trig:r}},z={class:"cb-reaction"},E={key:0},S=x({__name:"reaction",setup(g){const o=N([]),a=d(0),i=r=>{a.value=r,o.unshift(r)},{status:t,start:m,trig:l}=U(i);return(r,e)=>{const v=R,y=M;return n(),u("div",z,[B(y,null,{header:c(()=>e[1]||(e[1]=[p(" 请在点击“开始”按钮开始测试。下方方块变为绿色时，迅速点击它！ ")])),footer:c(()=>[D("div",null,"最新一次成绩："+f(s(a))+" ms",1),s(o).length>0?(n(),u("div",E,[e[3]||(e[3]=p(" 历史记录：")),(n(!0),u(F,null,L(s(o),(_,k)=>(n(),u("span",{key:k},f(_)+" ms ",1))),128))])):h("",!0)]),default:c(()=>[s(t)==="ready"?(n(),T(v,{key:0,onClick:s(m)},{default:c(()=>e[2]||(e[2]=[p("开始")])),_:1},8,["onClick"])):(n(),u("div",{key:1,class:V(["cb-reaction-board",{waiting:s(t)==="waiting",testing:s(t)==="testing"}]),onMousedown:e[0]||(e[0]=(..._)=>s(l)&&s(l)(..._))},null,34))]),_:1})])}}});export{S as _};
